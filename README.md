# Конвертация С4-диаграммы Structurizr в изображение PNG. Инструкция по установке и использованию

Данная инструкция содержит информацию по установке и использованию Python-скрипта для конветртации С4-диаграммы Structurizr в изображение PNG с помощью Docker-образа. В качестве входного файла используется файл JSON с заранее прописанным кодом диаграммы. В качестве выходного файла – изображение в формате PNG.

> [!NOTE]
>
> Данной инструкцией предполагается, что на компьютере пользователя установлена программа Docker. Без указанной программы установка и запуск Python-скрипта невозможна.

## Установка Python-скрипта

Для установки Python-скрипта необходимо сделать следующие действия:

1. Скачать файлы для сборки Docker-образа с Python-скриптом в необходимую директорию с помощью команды:

   ```bash
   git clone git@github.com:SergeyKardapoltsev/structurizr-to-png.git
   ```

2. Открыть терминал (командную строку).

3. В терминале перейти в директорию с Docker-образом с помощью команды:

   ```bash
   cd /путь/к/необходимой/директории/
   ```

4. Выполнить сборку Docker-образа в текущей директории с помощью команды:

   ```bash
   docker build -t structurizr-to-png .
   ```

## Запуск Python-скрипта

В скачанном Docker-образе для примера работы Python-скрипта имеется файл input.json. В качестве пробного запуска программы можно использовать указанный файл.

Для запуска Docker-контейнера и выполнения Python-скрипта необходимо сделать следующие действия:

1. Поместить в директорию с Docker-образом файл JSON с заранее прописанным кодом диаграммы.

2. Ввести в терминале команду:

   ```bash
   docker run --rm -v $(pwd):/app structurizr-to-png <наименование файла.json> <наименование файла.png>
   ```

В директории с Docker-образом создаться файл с изображением диаграммы в формате PNG.

## Примечание

В настоящее время в директории с Docker-образом создаются два выходных файла в формате PNG: <наименование файла.png> и <наименование файла.png.png>. Открыть для просмотра возможно только файл <наименование файла.png.png>. Данная проблема пока не решена.